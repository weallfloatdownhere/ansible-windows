# - debug:
#     msg: 
#     - "{{ shortcutlnk.source }}"
#     - "{{ shortcutlnk.destination }}"

- name: Set default values
  set_fact:
    shortcutlnk_source: "{{ job_values.source }}"
    shortcutlnk_destination: "{{ job_values.destination }}"

- debug:
    msg: 
    - "{{ package_name }}" 
    - "{{ package_version }}" 
    - "{{ package_state }}"
    - "{{ package_timeout }}"
    - "{{ package_pinned }}"
    - "{{ package_choco_args }}"
    - "{{ package_install_args }}"

- name: Windows
  block:
    # TODO: Ensure the shortcutlnk.source exists first

    - name: Create an application shortcut
      win_shortcut:
        src: "{{ shortcutlnk.source }}"
        dest: "{{ shortcutlnk.destination }}"
  when: '"windows" in ansible_system|lower'